<html metal:define-macro="layout">
<head>
  <title><p tal:condition="page_title" tal:replace="page_title + ' - '">Nudibranch</title>
  <meta charset="utf-8" />
  <link rel="shortcut icon" href="${_S('nudibranch:static/favicon.ico')}" />
  <link rel="stylesheet" href="${_S('nudibranch:static/style.css')}"
        type="text/css" media="screen" charset="utf-8" />
  <script src="${_S('nudibranch:static/application.js')}"></script>
  <script src="${_S('nudibranch:static/form2js.js')}"></script>
  <script src="${_S('nudibranch:static/json2.js')}"></script>
  <script tal:repeat="js javascripts" src="${_S('nudibranch:static/' + js)}"></script>
</head>
<body>
  <div tal:condition="request.user and request.user.is_admin" style="background: #CCC">
    ADMIN BAR: <a href="${_R('class_list')}">Classes</a> |
    <a href="${_R('user_list')}">Users</a>
  </div>
  <div tal:condition="request.user" style="background: #0C0">
    <form name="logout" action="${_R('session')}"
          onsubmit="return form_request(this, 'delete');">
      Hello <a href="${_R('user_view', username=request.user.username)}">
        ${request.user.username}</a>!
      <input type="submit" name="submit" value="Logout" />
    </form>
  </div>
  <div metal:define-slot="content">
  </div>
</body>
</html>
